\chapter[quantitative-rules]{量化规则}

\startdictum
概率论，不过是生活约化而成的计算。
  
\rightaligned{Laplace，1819}
\stopdictum

\indentation 问题已被形式化了，这是我们所作的公设在数学上的必然结果。这些公设可粗略描述如下：

\startitemize[R]
\item 命题的可信性由实数表示；
\item 定性符合常识；
\item 一致性。
\stopitemize

\noindent 本章仅基于这些公设推导与推断相关的量化规则。所得结果，曾经有着一段漫长、复杂又令人难以置信的历史。这段历史充满着广义科学方法论方面的教训（见某些章尾部的评注部分）。

\section{乘法规则}

我们首先为逻辑乘 $AB$ 的可信性分别与 $A$ 与 $B$ 的可信性之间的关系找出一个一致性的规则。我们在意的其实是 $AB|C$。由于推理过程本身有些微妙，这需要我们从一些不同的视角去审视。

先考虑将 $AB$ 为真的裁决打碎为对 $A$ 与 $B$ 所作的更为基本的裁决。机器人可以

\startitemize[n]
\item 裁决 $B$ 为真；\hfill $(B|C)$
\item 认可 $B$ 为真，裁决 $A$ 为真。\hfill $(A|BC)$
\stopitemize

\noindent 或者，等同地，

\startitemize[n]
\item 裁决 $A$ 为真；\hfill $(A|C)$
\item 认可 $A$ 为真，裁决 $B$ 为真。\hfill $(B|AC)$
\stopitemize

\noindent 上面，在每种情况中，我们给出了每一步骤相应的可信性。

现在，解释一下第 1 个过程。为了命题 $AB$ 为真，$B$ 必须为真。因而，必须考虑 $B|C$ 的可信性。此外，若 $B$ 为真，则需要进一步保证 $A$ 为真，因此还需要考虑 $A|BC$ 的可信性。但是若 $B$ 为假，则无需裁决 $A$，亦即无需裁决 $A|\itbar{B}C$，便可知晓 $AB$ 为假；若机器人先推理 $B$，那么，$A$ 的可信性仅在 $B$ 为真时才值得考虑。因此，机器人在有了 $B|C$ 与 $A|BC$ 的情况下，就不需要 $A|C$ 了，因为 $A|C$ 并未给它能带来更多的信息。

类似地，$A|B$ 与 $B|A$ 是不需要的；无论 $A$ 与 $B$ 在缺乏 $C$ 的情况下多么可信，都与机器人在知道 $C$ 为真的情况下所作的裁决无关。例如，若机器人知晓地球是圆的，那么在裁决与现在的宇宙学相关的问题时，它就可以忽略那些在它尚不知地球是圆的之时需要考虑的观点。

由于逻辑乘法运算遵循交换律，$AB = BA$，因此上文中的 $A$ 与 $B$ 毫无疑问，可以互换；亦即 $A|C$ 与 $B|AC$ 的知识也能用于确定 $AB|C = BA|C$。对于 $AB$，机器人必定能从这两个过程中得到相同的可信性，这是我们的一致性条件之一，即公设 (\convertnumber{R}{3}a)。

可以用更明确的形式来描述。$(AB|C)$ 可以是 $B|C$ 与 $A|BC$ 的某个函数：

\placeformula[basic-function]
\startformula
(AB|C) = F[(B|C), (A|BC)]
\stopformula

现在，如果上述推理尚不完全清晰，那么就审视一下其他的替代形式。例如，可以假设

\placeformula
\startformula
(AB|C) = F[(A|C), (B|C)]
\stopformula

是容许的形式。但是，很容易揭示，这种形式的关系无法满足公设 (\convertnumber{R}{2}) 的那些定性条件。给定 C，命题 $A$ 或许非常可信，命题 $B$ 或许可信，但是 $AB$ 可能依然非常可信或非常不可信。

例如，下一个遇到的人，蓝眼睛，这相当可信，黑头发，这也相当可信；这两样生理特征同时出现于此人身上，也没什么不合理之处。不过，左眼睛是蓝色的，这相当可信，右眼睛是褐色的，也相当可信，但是若它们同时为真，那就极为不可信。如果使用这种形式的公式，那么就没法考虑这些情况。用这种形式的函数，我们的机器人无法像人类那样去作推理，它甚至连定性的推理都做不到。

还有一些其他的可能的形式。尝试所有的可能形式的方法——\quotation{穷举证明}——可像下面这样进行。先引入一些实数

\placeformula
\startformula
u = (AB|C),\quad v = (A|C),\quad w = (B|AC),\quad x = (B|C),\quad y = (A|BC).
\stopformula

如果 $u$ 被表示成 $u$、$v$、$x$、$y$ 中两个或更多个实数的函数，那么有 11 种可能的形式。可以写出每一种可能，将它置于各种极端条件下，如同褐色眼睛与蓝色眼睛那样（抽象描述：$A$ 蕴含了 $B$ 为假\footnote{译注：$A\Rightarrow\itbar{B}$}）。其他极端条件有，$A = B$，$A = C$，$C\Rightarrow\itbar{A}$，等。Tribus（1969）作了冗长乏味的分析，发现只有两种可能的形式，在某种极端的情况下，遵循着定性符合常识这一公设，它们分别是 $u = F(x, y)$ 与 $u = F(w, v)$，这正是之前我们推理出来的那两种函数形式。

现在，运用第 \in[plausible-reasoning] 章讨论的量化要求。给定的先验信息的任何变化 $C\rightarrow C'$，以及 $B$ 变得更可信，$A$ 没有变化，

\placeformula
\startformula
B|C' > B|C
\stopformula

\placeformula
\startformula
A|BC' = A|BC
\stopformula

根据常识，$AB$ 只会变得更可信，而不是更不可新：

\placeformula
\startformula
AB|C'\ge AB|C
\stopformula

当且仅当 $A|BC$ 为不可能时，相等关系成立。同样，给定先验信息 $C''$，以及

\placeformula
\startformula
B|C'' = B|C
\stopformula

\placeformula
\startformula
A|BC'' > A|BC
\stopformula

就会有

\placeformula
\startformula
AB|C'' \ge AB|C
\stopformula

当且仅当 $B|C$ 为不可能时，相等关系成立（即使此时未去定义 $A|BC$，$AB|C''$ 依然不可能为真）。此外，函数 $F(x, y)$ 必须是连续的，不然，(\in[basic-function]) 右侧的某个可信性的微小递增可能会导致 $AB|C$ 的大幅递增。

总之，$F(x, y)$ 必须是 x 与 y 的连续的单调递增函数。若假设它可微（并非必须如此；见 (\in[function-eq]) 的讨论），便有

\startsubformulas[mono-req]
\placeformula
\startformula
F_1(x, y) \equiv \frac{\partial F}{\partial x} \ge 0
\stopformula

仅当 $x$ 表示不可能时，上式中的相等关系成立；还有，

\placeformula
\startformula
F_2(x, y) \equiv \frac{\partial F}{\partial y} \ge 0
\stopformula
\stopsubformulas


后文会继续使用这些符号，无论 $F$ 是什么样的函数，$F_i$ 表示 $F$ 的第 $i$ 个参数对应的微分。

接下来，我们动用公设 (\convertnumber{R}{3}a)，\quotation{结构上}的一致性。假设想获得 $(ABC|D)$ 的可信性，即三个命题同时为真的可信性，由于布尔运算遵循结合律 $ABC = (AB)C = A(BC)$，因此有两种方式来做此事。若规则具有一致性，一定能从这两种顺序的运算中获得相同的结果。首先，可以将 $BC$ 视为单一的命题，利用 (\in[basic-function])：


\placeformula
\startformula
(ABC|D) = F[(BC|D), (A|BCD)]
\stopformula

然后，对可信性 $(BC|D)$ 应用 (\in[basic-function])，可得：

\startsubformulas[expand-way]
\placeformula[subeq:1]
\startformula
(ABC|D) = F\{F[(C|D), (B|CD)], (A|BCD)\}
\stopformula

不过，也可以在一开始将 $AB$ 视为单一的命题，这样就可以从另一种顺序推出不同的结果：

\placeformula[subeq:2]
\startformula
(ABC|D) = F[(C|D), (AB|CD)] = F\{(C|D), F[(B|CD), (A|BCD)]\}
\stopformula
\stopsubformulas

若我们寻找的这个规则是要用于表示推理的一致性方法，那么 (\in[subeq:1]) 与 (\in[subeq:2]) 必定恒等。在这种情况下，我们的机器人所作的一致性推理，其必要条件可表示为一个函数方程，

\placeformula[function-eq]
\startformula
F[F(x, y), z] = F[x, F(y, z)]
\stopformula

在数学里，这个方程历史悠久，源起于 N. H. Abel (1826) 的研究。Acz\'el (1966) 在他的讲述函数方程的巨著中，贴切地称这个方程为\quotation{关联方程}（Associativity Equation），并列举了 98 份讨论或使用这个方程的参考文献。Acz\'el 在不假设函数可微的条件下，求出了通解 (\in[aczel-general-solution])，见下文。不过，他的书中（Acz\'el, 1987），用了 11 页的篇幅证明此解的存在。在此，我们给出 R. T. Cox (1961) 在假设函数可微的前提下给出的更短的证明；也可参考附录 B 中的讨论。

显然，(\in[function-eq]) 有一个平凡解，$F(x, y) = \text{常数}$。但是这个解违背了单调性要求 (\in[mono-req])，并且毫无用处可言。除非 (\in[function-eq]) 有一个非平凡解，不然，这条路就走不通了；因此，必须寻求最为广义的非平凡解。先定义一些缩写

\placeformula
\startformula
u\equiv F(x, y),\quad v\equiv F(y, z)
\stopformula

现在，依然认为 $(x, y, z)$ 是互不依赖的变量，待求解的函数方程可写为

\placeformula[eq-target]
\startformula
F(x, v) = F(u, z)
\stopformula

分别对 $x$ 与 $y$ 求微分，按照 (\in[mono-req]) 的记法，可得

\placeformula[elim]
\startformula
\startmathalignment
\NC F_1(x, v) \NC = F_1(u, z)F_1(x, y)\NR
\NC F_2(x, v)F_1(y, z) \NC = F_1(u, z)F_2(x, y)\NR
\stopmathalignment
\stopformula

从这两个方程中消除 $F_1(u, z)$，可得

\placeformula[eq-U]
\startformula
G(x, v)F_1(y, z) = G(x, y)
\stopformula

其中，$G(x, y)\equiv F_2(x, y)/F_1(x, y)$。显然，(\in[elim]) 的左部一定是不依赖 $z$。可将 (\in[eq-U]) 等价地写为

\placeformula[eq-V]
\startformula
G(x, v)F_2(y, z) = G(x, y)G(y, z)
\stopformula

用 $U$ 与 $V$ 分别表示 (\in[eq-U]) 与 (\in[eq-V]) 的左部，可以得出 $\partial V/\partial y = \partial U/\partial z$。因而 $G(x, y)G(y, z)$ 必定不依赖 $y$。具有这一性质的最具一般性的函数 $G(x, y)$ 为

\placeformula[general-func]
\startformula
G(x, y) = r\frac{H(x)}{H(y)}
\stopformula

其中，$r$ 为常数，$H(x)$ 为任意函数。基于 $F$ 的单调性，可确定 $G > 0$，因此需要 $r > 0$，至于 $H(x)$ 的正负则无关大体。应用 (\in[general-func])，则 (\in[eq-U]) 与 (\in[eq-V]) 变成：

\placeformula
\startformula
F_1(y, z) = \frac{H(v)}{H(y)} 
\stopformula

\placeformula
\startformula
F_2(y, z) = r\frac{H(v)}{H(z)} 
\stopformula

关系 $dv=dF(y, z)=F_1dy + F_2dz$ 可化为

\placeformula
\startformula
\frac{dv}{H(v)} = \frac{dy}{H(y)} + r\frac{dz}{H(z)}
\stopformula

或者化为积分形式

\placeformula[eq-int]
\startformula
w[F(y, z)] = w(v) = w(y)w'(z)
\stopformula

其中

\placeformula[w-func]
\startformula
w(x) = \text{exp}\left\{\int_{}^{x}\frac{dx}{H(x)}\right\}
\stopformula

积分符号无下界，意味着 $w$ 会有一个任意的倍增因子。但是，将 (\in[eq-target]) 代入函数 $w(\cdot)$ 并应用 (\in[eq-int])，可得 $w(x)w^r(v) = w(u)w^r(z)$；再次应用 (\in[eq-int])，函数方程便可化为

\placeformula[2-25]
\startformula
w(x)w^r(y)[w(z)]^{r^2} = w(x)w^r(y)w^r(z)
\stopformula

若 $r = 1$，便可获得一个非平凡解，最终结果可表示为以下两种形式：

\placeformula
\startformula
w[F(x, y)] = w(x)w(y)
\stopformula

或

\placeformula[aczel-general-solution]
\startformula
F(x, y) = w^{-1}[w(x)w(y)]
\stopformula

因此，逻辑乘法所遵守的结合律与交换律必须体现为以下的函数形式

\placeformula[product-rule]
\startformula
w(AB|C) = w(A|BC)w(B|C) = w(B|AC)w(A|C)
\stopformula

我们将这种形式称为{\bf 乘法规则}。由 (\in[w-func]) 的构造可知，$w(x)$ 必定是个正的连续的单调函数，至于它是递增的还是递减的，这有赖于 $H(x)$ 的符号；目前，它另有深意。

结果得到了 (\in[product-rule])，某种意义上，它是公设 (\convertnumber{R}{3}a) 所述一致性的必要条件。不过，对于任意多个联结的命题，(\in[product-rule]) 显然也能保证这种一致性的存在。例如，用 (\in[expand-way]) 的办法可以将 $(ABCDEFG|H)$ 展开为数目繁多的不同形式；但是，只要 (\in[product-rule]) 成立，这些形式的结果必定相同。

定性要符合常识，这一要求对 $w(x)$ 有着更为严格的限定。例如，根据 (\in[product-rule]) 所给出的形式，假设在给定 $C$ 的情况下 $A$ 为真，那么在由 $C$ 的知识所营造的\quotation{逻辑环境}里，从当且仅当一个为真时另一个也必定为真这一意义来说，命题 $AB$ 与 $B$ 并无区别。基于第 1 节讨论的最基本的公理，同样为真的命题一定具备相同的可信性\footnote{见 1.5 节。}：

\placeformula
\startformula
AB|C = B|C
\stopformula

还有

\placeformula
\startformula
A|BC = A|C
\stopformula

由于给定 $C$ 的时候 $A$ 是确信的（亦即 $C$ 蕴含 $A$），那么给定任何其他不与 $C$ 矛盾的 $B$，$A$ 依然是确信的。在这种情况下，(\in[product-rule]) 约化为

\placeformula
\startformula
w(B|C) = w(A|C)w(B|C)
\stopformula

对于机器人而言，无论 $B$ 有多么可信或不可信，该式必定成立。因此，函数 $w(x)$ 必定具有以下性质

\placeformula
\startformula
w(A|C) = 1\;\text{表示确信性}
\stopformula

现在，在给定 $C$ 的情况下，假设 $A$ 不可信，那么在给定 $C$ 时，命题 $AB$ 也不可信：

\placeformula
\startformula
AB|C = A|C
\stopformula

若给定 $C$ 的情况下，$A$ 不可信（亦即 $C$ 蕴含 $\itbar{A}$），那么给定任何不与 $C$ 矛盾的更充分的信息 $B$，$A$ 依然不可信：

\placeformula
\startformula
A|BC = A|C
\stopformula

在这种情况下，(\in[product-rule]) 可化为

\placeformula[eq-zero]
\startformula
w(A|C) = w(A|C)w(B|C)
\stopformula

无论 $B$ 有多么可信，这个方程必定成立。$w(A|C)$ 只有两个可能的值能够满足这个条件，要么为 $0$，要么为 $+\infty$（排除了 $-\infty$，不然基于连续性，$w(B|C)$ 必须为负值；于是 (\in[eq-zero]) 自相矛盾）。

综上所述，定性要符合常识，这决定了 $w(x)$ 必须是一个正值的连续单调函数。它可能递增，也可能递减。若它递增，取值范围必须从 0 到 1，前者表不可信，后者表确信。若它递减，取值范围必须从 $+\infty$ 到 1，前者表不可信，后者表确信。至于它在这两种区间里具体如何变化，我们所给出的公设则没有对其进行限定。

然而，这两种可能的表示在内涵上并不相同。给定任意函数 $w_1(x)$，令它符合上述标准并且用 $+\infty$ 表示不可信，便可以定义一个新函数 $\displaystyle w_2(x) = \frac{1}{w_1(x)}$，这个函数同样可被接受，它是以 0 来表示不可信。因而，作为一种约定，若我们采纳 $0\le w(x)\le 1$，不失一般性；也就是说，就内涵而言，我们所作的公设里面的所有的一致性皆被包含于这种形式。（读者不妨检验一下，未尝不可选择相反的那种约定，从这一点发展出一套完整的理论，也包括它的全部应用，结果是一样的，只不过方程在形式上有些另类，但内涵是相同的。）

\section{加法规则}

因为现在所考虑的命题为亚里士多德逻辑类型——非真即假，逻辑乘 $A\itbar{A}$ 总是为假，逻辑和 $A + \itbar{A}$ 总是为真。在某些方面，$A$ 为假的可信性一定依赖于它为真的可信性\footnote{译注：$A$ 的可信性依赖于 $\itbar{A}$ 的可信性。}。如果定义 $u\equiv w(A|B)$，$v\equiv w(\itbar{A}|B)$，那么必定存在某种函数关系

\placeformula[2-36]
\startformula
v = S(u)
\stopformula

定性要符合常识。显然，当 $0\le u\le 1$ 时，$S(u)$ 应当是一个连续单调递减函数，其极值 $S(0) = 1$，$S(1) = 0$。不过，具备这些性质的函数未必皆为 $S(u)$，因为 $S(u)$ 必须与 $AB$ 或 $A\itbar{B}$ 的乘法规则

\placeformula[2-37]
\startformula
w(AB|C) = w(A|C)w(B|AC)
\stopformula

\placeformula[2-38]
\startformula
w(A\itbar{B}|C) =  w(A|C)w(\itbar{B}|AC)
\stopalign
\stopformula

保持一致。因而，凭借 (\in[2-36]) 和 (\in[2-38])，可将方程 (\in[2-37]) 变为

\placeformula[2-39]
\startformula
w(AB|C) = w(A|C)S[w(\itbar{B}|AC)] = w(A|C)S\left[\frac{w(A\itbar{B}|C)}{w(A|C)}\right]
\stopformula

我们再用一次交换性：$A$ 和 $B$ 在 $w(AB|C)$ 中是对称的，由一致性\footnote{译注：祈求 (\Roman{3})}可得

\placeformula[2-40]
\startformula
w(A|C)S\left[\frac{w(A\itbar{B}|C)}{w(A|C)}\right] = w(B|C)S\left[\frac{w(B\itbar{A}|C)}{w(B|C)}\right]
\stopformula

对于所有命题 $A$、$B$、$C$，这一方程必定成立；特别是，当

\placeformula[2-41]
\startformula
\itbar{B} = AD
\stopformula

时，$D$ 为任何新的命题，(\in[2-40]) 必定成立。不过，如 (\in[1-13]) 所述，有：

\placeformula[2-42]
\startformula
A\itbar{B} = \itbar{B}\quad\quad B\itbar{A} = \itbar{A}
\stopformula

(\in[2-40]) 中的某些项可以写成

\placeformula[2-43]
\startformula
\startmathalignment[n=3]
\NC w(A\itbar{B}|C) \NC = w(\itbar{B}|C) \NC = S[w(B|C)] \NR
\NC w(B\itbar{A}|C) \NC = w(\itbar{A}|C) \NC = S[w(A|C)] \NR
\stopmathalignment
\stopformula

因而，若使用缩写

\placeformula[2-44]
\startformula
x\equiv w(A|C)\,,\quad\quad y\equiv w(B|C)
\stopformula

(\in[2-40])\footnote{译注：原书是 (\in[2-25])，应该有误。} 就变成了函数方程

\placeformula[2-45]
\startformula
xS\left[\frac{S(y)}{x}\right] = yS\left[\frac{S(x)}{y}\right],\quad\quad
\startmathmatrix[align=left]
\NC 0 \le S(y) \le x \NR
\NC 0 \le x \le 1 \NR
\stopmathmatrix
\stopformula

这个方程表示了 $S(x)$ 为了与乘法规则一致而必须具备的一种比例性质。在 $y = 1$ 这种特殊情况下，这个方程便约化为

\placeformula[2-46]
\startformula
S[S(x)] = x
\stopformula

这表明 $S(x)$ 是一个自反函数；$S(x) = S^{-1}(x)$。因此，从 (\in[2-36]) 可以推出 $u = S(v)$。不过，这不过是表示了一个显而意见的事实，$A$ 与 $\itbar{A}$ 成相反关系；这与哪一个命题是用头戴短横线的字母来表示没有关系。之前，我们在 (\in[1-8]) 已经提到了此事；若之前还不够明显，那么现在必须认识到这一点。

下面探究一下 (\in[2-45]) 中的有效域。命题 $D$ 是随意的，因此通过选择不同的 $D$，便可以在

\placeformula[2-47]
\startformula
0 \le w(D|AC) \le 1
\stopformula

时，得到 $w(D|AC)$ 的所有值。但是，$S(y) = w(AD|C) = w(A|C)w(D|AC)$，因此 (\in[2-47]) 恰好能够促成 (\in[2-45]) 所述的 $(0 \le S(y) \le x)$。$x$ 和 $y$ 在该域中是对称的；将二者互换，该域不变。在几何上，该域由 $xy$ 平面上单位正方形 $(0\le x, y\le 1)$ 内的点组成，并且这些点位于曲线 $y = S(x)$ 的上方。

实际上，通过 (\in[2-45]) 描述点对这条曲线的无限逼近，便可确定这条曲线的形状。因为，若设 $y = S(x) + \epsilon$，那么当 $\epsilon \rightarrow 0^{+}$ 时，(\in[2-45]) 中的两边趋向于 $S(1) = 0$，只不过速度不同。因此，一切取决于 $\delta\rightarrow 0$ 的时候 $S(1 - \delta)$ 趋向于 0 的确切途径。为了研究这一现象，我们通过

\placeformula[2-48]
\startformula
\frac{S(x)}{y} = 1 - \text{exp}\{-q\}
\stopformula

定义了一个新的变量 $q(x, y)$。然后，挑选 $\delta = \text{exp}\{-q\}$，通过

\placeformula[2-49]
\startformula
S(1 - \delta) = S(1 - \text{exp}\{-q\}) = \text{exp}\{-J(q)\}
\stopformula

定义函数 $J(q)$，然后探究 $q\rightarrow\infty$ 时 $J(q)$ 的渐近形式。

现在将 $x$ 和 $q$ 视为独立的变量，由 (\in[2-48]) 可得

\placeformula[2-50]
\startformula
S(1 - \delta) = S[S(X)] + \text{exp}\{-q\}S(x)S'[S(x)] + O(\text{exp}\{-2q\})
\stopformula

使用 (\in[2-46]) 以及它的导数 $S'S[S(x)]S'(x) = 1$，上式约化为

\placeformula[2-51]
\startformula
\frac{S(y)}{x} = 1 - \text{exp}\{-(\alpha + q)\} + O(\text{exp}\{-2q\})
\stopformula

其中

\placeformula[2-52]
\startformula
\alpha(x)\equiv\log\left[\frac{-xS'(x)}{S(x)}\right] > 0
\stopformula

使用这些作为替换，函数方程 (\in[2-45]) 变为

\placeformula[2-53]
\startformula
J(q + \alpha) - J(q) = \log\left[\frac{x}{S(x)}\right] + \log(1 - \text{exp}\{-q\}) + O(\text{exp}\{-2q\})
\stopformula

当 $q\rightarrow\infty$ 时，上式的后两项以指数的速度趋向于 0，因此 $J(q)$ 必定是渐近线性的，

\placeformula[2-54]
\startformula
J(q) \sim \alpha + bq + O(\text{exp}\{-2q\})
\stopformula

其斜率

\placeformula[2-55]
\startformula
b = \alpha^{-1}\log\left[\frac{x}{S(x)}\right]
\stopformula

为正值。对于不同的 $x$ 值构成的连续统，及至 $\alpha(x)$ 的值构成的连续统，因为 (\in[2-53]) 必定成立，所以在 $\alpha$ 的变化周期内，(\in[2-54]) 不存在周期项。但是根据定义，$J$ 仅是 $q$ 的函数，因此 (\in[2-55]) 的右侧项一定独立于 $x$。由 (\in[2-52]) 可得

\placeformula[2-56]
\startformula
\frac{x}{S(x)} = \left[\frac{-xS'(x)}{S(x)}\right]^b,\quad\quad 0 < b < \infty
\stopformula

或者，$S(x)$ 必须满足微分方程

\placeformula[2-57]
\startformula
S^{m - 1}{\mathrm{d}}S + x^{m - 1}{\mathrm{d}}x = 0 
\stopformula

其中 $m\equiv 1/b$ 为正数常量。这个方程仅有一个解

\placeformula[2-58]
\startformula
S(x) = (1 - x^m)^{\frac{1}{m}}, \quad\quad
\startmathmatrix[align=left]
\NC 0 \le x \le 1 \NR
\NC 0 < m < \infty \NR
\stopmathmatrix
\stopformula

满足 $S(0) = 1$，并且 (\in[2-58]) 显然是 (\in[2-45]) 的解。

所得结果 (\in[2-58]) 最早由 R. T. Cox (1946) 通过假设 $S(x)$ 二阶可微而推导出来。不需要以 $S(x)$ 可微为前提，Acz\'el (1966) 也推导出了同样的结果。（但是在当前的应用中假设 $S(x)$ 可微对于我们而言无碍，因为若这个函数方程的解为不可微的函数，我们就应该放弃整个理论的构建，原因是定性与常识冲突。）无论如何，(\in[2-58]) 是满足函数方程 (\in[2-45]) 与左边界条件 $S(0) = 1$ 的最具一般性的解；于是我们进而发现它自动满足右边界条件 $S(1) = 0$。

由于我们对函数方程 (\in[2-45]) 的推导用了针对 $B$ 的特殊选择 (\in[2-41])，至此我们仅仅证明了 (\in[2-58]) 是一般性的一致性要求 (\in[2-40] 的必要条件。为了检验其充分性，将 (\in[2-58]) 代入 (\in[2-40])，可得

\placeformula[2-59]
\startformula
w^m(A|C) - w^m(A\itbar{B}|C) = w^m(B|C) - w^m(B\itbar{A}|C)
\stopformula

通过 (\in[2-28]) 与 (\in[2-38]) 很容易验证上式成立。因而，(\in[2-58]) 保证 $S(x)$ 满足 (\in[2-40]) 意义上的一致性的充分必要条件。

至此，可对我们所得的结果作一些总结。逻辑乘法的关联性要求可信性 $x = A|B$ 的某种单调函数 $w(x)$ 必须遵守乘法规则 (\in[2-28])。我们的结果 (\in[2-58]) 描述了 $w(x)$ 也必须遵守加法规则：

\placeformula[2-60]
\startformula
w^m(A|B) + w^m(\itbar{A}|B) = 1
\stopformula

$m$ 为正数。当然，乘法规则本身可被等价地写成

\placeformula[2-61]
\startformula
w^m(AB|C) = w^m(A|C)w^m(B|AC) = w^m(B|C)w^m(A|BC)
\stopformula

实际上，$m$ 值可以忽略，因为无论其取值为何，皆能定义

\placeformula[2-62]
\startformula
p(x) \equiv w^m(x)
\stopformula

这样，乘法与加法规则的形式就变为

\placeformula[2-63]
\startformula
p(AB|C) = p(A|C)P(B|AC) = p(B|C)p(A|BC)
\stopformula

\placeformula[2-64]
\startformula
p(A|B) + p(\itbar{A}|B) = 1
\stopformula

事实上，这样做不失一般性，因为我们对 $w(x)$ 仅有的要求是 $w(x)$ 是一个连续单调递增函数，$w = 0$ 表示不可能，$w = 1$ 表示确定。如果 $w(x)$ 满足这一要求，那么 $w^m(x)$ 也必定满足这一要求，$0 < m < \infty$。因此，声称我们能够使用不同的 $m$ 值并不会给我们带来任何原本在 $w(x)$ 上所没有的自由。我们的祈求所容许的所有可能性均被包含在 (\in[2-63]) 和 (\in[2-64]) 之中了，其中 $p(x)$ 为任意的连续单调递增函数且 $0\le p(x)\le 1$。

对于可信推断而言，要形成一个完备的规则集，用于确定由 $\{A_1,\cdots,A_n\}$ 构成的任意逻辑函数 $f(A_1,\cdots,A_n)$ 的可信性，还需要更多的关系吗？凭借乘法规则 (\in[2-63]) 与加法规则 (\in[2-64])，我们有了计算合取 $AB$ 与取反 $\itbar{A}$ 的可信性的公式。然而，我们已经注意到了，在 (\in[1-23]) 的讨论中，合取与取反可以构成运算完备集，通过它们可以构造所有的逻辑函数。

因而，我们推测基本规则的探索活动已经完成；通过反复应用乘法规则与加法规则，在布尔代数中由 $\{A_1,\cdots,A_n\}$ 产生的任何命题的可信性皆能计算出来。

为了验证这一点，我们首先为逻辑和 $A + B$ 寻找一个公式。反复应用乘法规则与加法规则，可得

\placeformula[2-65]
\startformula
\startmathmatrix[align={middle, middle, left}]
\NC p(A+B|C) \NC = \NC 1 - P(\itbar{A}\itbar{B}|C) = 1 - p(\itbar{A}|C)p(\itbar{B}|\itbar{A}C)\NR
\NC \NC = \NC 1 - p(\itbar{A}|C)[1 - p(B|\itbar{A}C)] = p(A|C) + p(\itbar{A}B|C)\NR
\NC \NC = \NC p(A|C) + p(B|C)p(\itbar{A}|BC) = p(A|C) + p(B|C)[1 - p(A|BC)]\NR
\stopmathmatrix
\stopformula

最终可得

\placeformula[2-66]
\startformula
p(A + B | C) = p(A|C) + p(B|C) - p(AB|C)
\stopformula

这是最实用的通用加法法则。显然，在 $B = \itbar{A}$ 时，基本加法法则 (\in[2-64]) 是 (\in[2-66]) 的特例。

\startframedtext[width=broad]
\exercise{} 能够像 (\in[2-66]) 那样基于乘法与加法规则为 $p(C|A + B)$ 找到通用的公式吗？如果能，就把它推导出来，否则就解释一下为什么不能。
\stopframedtext

\startframedtext[width=broad]
\exercise{} 假设存在命题集合 $\{A_1,\cdots,A_n\}$ 在 $X$ 上相互独立：$p(A_iA_j|X) = p(A_i|X)\delta_{ij}$。证明 $p(C|(A_1 + \cdots + A_n)X)$ 为各个 $P(C|A_iX)$ 的加权平均：

\placeformula[2-67]
\startformula
p(C|(A_1 + \cdots + A_n)X) = p(C|A_1X + \cdots + A_nX) = \frac{\sum_i p(A_i|X)p(C|A_iX)}{\sum_i p(A_i|X)}
\stopformula
\stopframedtext

为了扩展 (\in[2-66])，在 (\in[1-17]) 之后，我们注意到除了没什么价值的自相矛盾的逻辑函数之外，任何一个逻辑函数皆能表示为析取范式，即作为诸如 (\in[1-17]) 所示的基本合取运算的逻辑和。现在，任何一个基本的合取运算的可信性 $\{Q_i,\; 1\le i \le 2^n\}$ 可由乘法规则的反复应用而确定；然后反复应用 (\in[2-66]) 便可确定 $Q_i$ 所形成的任何逻辑和的可信性。实际上，这些合取运算是相互独立的，因此我们将会发现（见 (\in[2-85])）这种逻辑和可约化为 $(2^n - 1)$ 个项构成的简单求和运算 $\sum_ip(Q_i|C)$。

因此，如同合取与取反这两种运算可构成演绎逻辑的完备集那样，上述的乘法与加法规则在以下意义中可构成可信推断的完备集。只要背景信息足以确定基本合取运算的可信性，我们的规则就足以确定布尔代数中由 $\{A_1\cdots A_n\}$ 产生的任何命题的可信性。因而，在 $n = 4$ 的情况下，需要 $2^4 = 16$ 个基本合取运算，于是我们的规则可以确定布尔代数中 $2^{16} = 65\,536$ 个命题中的每一个的可信性。

不过，在实际应用中我们用不着确定这么多；若背景信息足以确定少量的基本合取运算的可信性，这可能对于我们所关心的布尔代数中一小部分命题足够用了。

\section{定性性质}

现在来看基于 (\in[2-63]) 与 (\in[2-64]) 的理论、演绎逻辑的理论以及我们在第 1 章给出的几个定性的三段论之间存在怎样的联系。首先，在极限 $p(A|B)\rightarrow 0$ 或者 $p(A|B) \rightarrow 1$ 存在的情况下，显然加法规则 (\in[2-64]) 表达的是亚里士多德逻辑的先决条件：若 $A$ 为真，则 $\itbar{A}$ 必定为假，等等。

的确，两条强三段论 (\in[syllogism-1]) 和 (\in[syllogism-2]) 以及由它们发展出来的弱三段论所构成的逻辑，以及这些逻辑所构成的层出不穷的结果，它们的大前提都可以使用蕴含符号 (\in[implication]) 来描述：

\placeformula[2-68]
\startformula
\syllogism{$A\Rightarrow B$}{$A$ 为真}{$B$ 为真}\quad\quad\syllogism{$A\Rightarrow B$}{$B$ 为假}{$A$ 为假}\NR
\stopformula

若用 $C$ 表示它们的大前提：

\placeformula[2-69]
\startformula
C\equiv A\Rightarrow B
\stopformula

则这些三段论便会以下面的形式分别与乘法规则 (\in[2-63]) 相对应：

\placeformula[2-70]
\startformula
p(B|AC) = \frac{p(AB|C)}{p(A|C)}\quad\quad p(A|\itbar{B}C) = \frac{p(A\itbar{B}|C)}{p(\itbar{B}|C)}
\stopformula

但是，根据 (\in[2-68])，有 $p(AB|C) = p(A|C)$ 和 $p(A\itbar{B}|C) = 0$，因此 (\in[2-70]) 可约化为

\placeformula[2-71]
\startformula
p(B|AC) = 1\quad\quad p(A|\itbar{B}C) = 0
\stopformula

与三段论 (\in[2-68]) 所述一致。因而这种联系很简单：{\bf 亚里士多德的演绎逻辑是可信推理规则的极限形式，意味着机器人对它所得到的结论越来越确定。}

但是我们的规则还有演绎逻辑不具备的东西：若三段论 (\in[weak-1]) 与 (\in[weak-2]) 的量化形式。为了证明原始定性描述总是遵循当前规则，需要注意第一个弱三段论

\placeformula[2-72]
\startformula
\syllogism{$A\Rightarrow B$}{$B$ 为真}{所以，$A$ 更可信}
\stopformula

以下面的形式

\placeformula[2-73]
\startformula
p(A|BC) = p(A|C)\frac{p(B|AC)}{p(B|C)}
\stopformula

与乘法规则 (\in[2-63]) 相对应。但是，根据 (\in[2-68])，$p(B|AC) = 1$，且因 $p(B|C)\le 1$，所以可得

\placeformula[2-74]
\startformula
p(A|BC) \ge p(A|C)
\stopformula

结果与弱三段论相符。同理，弱三段论 (\in[weak-2])

\placeformula[2-75]
\startformula
\syllogism{$A\Rightarrow B$}{$A$ 为假}{所以，$B$ 更不可信}
\stopformula

以下面的形式

\placeformula[2-76]
\startformula
p(B|\itbar{A}C) = p(B|C)\frac{p(\itbar{B}|AC)}{p(B|C)}
\stopformula

与乘法规则相对应。但是根据 (\in[2-74])，有 $p(A\itbar{A}B)\le p(\itbar{A}|C)$，因此由 (\in[2-76]) 可得

\placeformula[2-77]
\startformula
p(B|\itbar{A}C) \le p(B|C)
\stopformula

结果与上述弱三段论相符。

最后，那个警察的弱三段论 (\in[weak-3])，在抽象描述时似乎非常弱，也以 (\in[2-73]) 的形式被我们的乘法规则涵盖在内。现在让 $C$ 表示背景信息（为了不横生枝节，在 (\in[weak-3]) 中对此未作强调），大前提\quotation{若 $A$ 为真，则 $B$ 更可信}可表示为

\placeformula[2-78]
\startformula
p(B|AC) > p(B|C)
\stopformula

由 (\in[2-73]) 可得

\placeformula[2-79]
\startformula
p(A|BC) > p(A|C)
\stopformula

结果与这个三段论相符。

我们所得到的不仅仅是 (\in[2-79]) 这样的定性描述。在第 1 节里，有个未回答的疑问：什么因素决定了证据 $B$ 是将 $A$ 几乎提升到了确信无疑的程度，还是对其可信性有负面影响？来自 (\in[2-73]) 的答案是，因为 $p(B|AC)$ 不能大于 1，仅当 $p(B|C)$ 很小的时候，$A$ 的可信性才有机会得以大幅递增。之所以看到那个绅士的行为（$B$）使其罪行（$A$）在事实上成立，原因在于他的行为在背景信息上只能如此解释；警察在此前未曾见识过无罪之人会作出那种行为。另一方面，若已知 $A$ 为真只会让 $B$ 的可信性有着可忽略的递增，则看到 $B$ 也只会让 $A$ 的可信性有着可忽略的递增。

我们可以给出这种类型的更多比较；实际上，这些规则与常识之间完备的定性对应已经被许多人注意并证明了，诸如 Keynes（1921）、Jeffreys（1939）、P\'olya（1945，1954）、R. T. Cox（1961）、Tribus（1969）、de Finetti（1947a，b）以及 Rosenkrantz（1977）等人的工作。本书前言与第 1 章主要介绍了 P\'olya 的工作，刚才我们所讲的主要是 Cox 的工作。然而，我们的目标是推进量化的应用；因此我们要回到这个主题上来。

\section{数值}

